{"title":"Land Cover Patterns in Mkoani and Mkuranga Districts","markdown":{"yaml":{"title":"Land Cover Patterns in Mkoani and Mkuranga Districts","description":"Analyzing and comparing spatial patterns of land cover in Mkoani and Mkuranga Districts","author":"Masumbuko Semba","date":"2025-12-28","categories":["Fact sheet"],"keywords":["Mkoani","Mkuranga","land cover comparison","spatial patterns","coastal Tanzania","ecosystem"],"image":"lc_mkuranga.png","reading-time":true,"toc":true,"toc-depth":2,"execute":{"eval":false}},"headingText":"Understanding Spatial Patterns in Land Cover","containsRefs":false,"markdown":"\n\n\nSpatial patterns in land cover are the local arrangements and configurations of different land use types across a landscape. Rather than simply knowing what proportion of an area is forest or cropland, understanding the *pattern* of these land covers reveals much more about ecosystem function and human land use practices. For example, fragmented forests interspersed with agriculture indicate different management histories and conservation challenges than consolidated forest blocks.\n\nSpatial signatures provide a quantitative framework for capturing these patterns. They encode information about how land cover types are spatially organized‚Äîwhether they form large contiguous patches, are highly fragmented, or follow specific spatial arrangements. In this post, I'll demonstrate how to compare spatial signatures between two coastal Tanzanian districts and use visual analysis to identify their characteristic land cover patterns.\n\n## Loading and Preparing the Data\n\nWorking with spatial raster data requires careful data loading and preprocessing to ensure consistent and accurate analysis. We begin by loading specialized R packages designed for spatial analysis: `terra` for raster operations, `sf` for vector geometries, and `tidyterra` to bridge spatial data with tidyverse workflows. These packages provide efficient tools for reading, manipulating, and visualizing large spatial datasets.\n\nWe source ESA WorldCover 10m resolution land cover data for our study areas. The Mkoani district data covers the Pemba region, while Mkuranga district is defined by a specific geographic extent. Converting these rasters to factors (categorical data) is essential‚Äîit tells R that the numeric values represent discrete land cover categories rather than continuous measurements, which enables proper labeling and visualization.\n\n```{r}\nlibrary(sf)\nlibrary(terra)\nlibrary(tidyterra)\nlibrary(tidyverse)\nlibrary(webr)\n```\n\nWe'll work with ESA WorldCover 10m resolution land cover data for two districts in Tanzania. The data represent land cover types in a part of Tanzania in 2020 at 10 m resolution. We also load the boundaries of protected areas in the region.\n\n\n```{r}\npemba_lulc = terra::rast('../data/mkoani_lulc_2021.tif') |> \n    as.factor()\n\nmkuranga_lulc = terra::rast('../data/mkuranga_lulc_2021.tif') |> \n    terra::crop(terra::ext(39.2, 39.48, -7.55, -7.1), mask = TRUE) |> \n    as.factor()\n```\n\n## Creating a Standardized Color Scheme\n\nConsistent color representation across all visualizations is crucial for effective communication and reproducibility in scientific analyses. We create a reference dataframe (`worldcover_df`) that maps each ESA WorldCover land cover category to a standardized hex color code based on official ESA specifications. This single reference ensures that forest always appears as dark green (#006400), water as blue (#0064c8), and so forth across all figures.\n\n\n```{r}\n# Based on official ESA WorldCover specifications\nworldcover_df = data.frame(\n  value = c(10, 20, 30, 40, 50, 60, 70, 80, 90, 95, 100),\n  label = c(\"Tree cover\", \"Shrubland\", \"Grassland\", \"Cropland\", \n            \"Built-up\", \"Bare/sparse vegetation\", \"Snow and ice\",\n            \"Water bodies\", \"Herbaceous wetland\", \n            \"Mangroves\", \"Moss and lichen\"),\n  color = c(\"#006400\", \"#ffbb22\", \"#ffff4c\", \"#f096ff\", \"#fa0000\", \n            \"#b4b4b4\", \"#f0f0f0\", \"#0064c8\", \"#0096a0\", \"#00cf75\", \"#fae6a0\")\n)\n\n\n```\n\nBeyond colors, we embed this metadata directly into our raster objects using the `levels()` and `coltab()` functions. This embeds both the categorical labels and color palette into the raster structure itself, making the visualizations self-contained and reproducible. Any downstream analysis or visualization automatically uses these definitions, eliminating inconsistencies and the need to repeatedly specify colors and labels.\n\n```{r}\n# Set levels with labels\nlevels(pemba_lulc) = worldcover_df |> select(value, label)\nlevels(mkuranga_lulc) = worldcover_df |> select(value, label)\n\n# Embed color palette into rasters\ncoltab(pemba_lulc) = worldcover_df |> select(value, color)\ncoltab(mkuranga_lulc) = worldcover_df |> select(value, color)\n```\n\n## Visualizing Land Cover Maps\n\nRaster maps provide an intuitive visual representation of land cover distribution across space. By mapping pixel values to colors using our standardized scheme, we can immediately identify dominant land cover types and their spatial arrangement. The maps below use a minimal theme with subtle axes to keep focus on the spatial patterns themselves rather than chart elements.\n\nThe composition pie charts complement the maps by quantifying the areal proportion of each land cover type. Rather than showing all categories, we exclude water bodies (which often dominate coastal areas due to ocean coverage) to better visualize terrestrial land cover proportions. The start angle adjustment ensures labels are positioned for readability.\n\n### Mkoani District\n\nThe Mkoani district, located on Pemba Island, displays a landscape heavily influenced by its island geography and historical land use patterns. @fig-mkoani-map reveals extensive forest cover interspersed with agricultural areas and coastal features, reflecting a balance between conservation and subsistence livelihoods common in coastal communities.\n\n```{r}\n#| label: fig-mkoani-map\n#| fig-cap: \"Land Cover Map of Mkoani District (2021). Source: ESA WorldCover 10m\"\n#| \nggplot() +\n  geom_spatraster(data = pemba_lulc) +\n  scale_x_continuous(breaks = scales::pretty_breaks(n = 4)) +\n  theme_minimal(base_size = 12)\n```\n\n\n![Land Cover Map of Mkoani District (2021). The map displays ESA WorldCover 10m resolution classification showing the distribution of forest (dark green), agricultural areas (magenta), grasslands (yellow), and other land cover types across Pemba Island. Forest patches interspersed with agricultural clearing and coastal development characterize this island ecosystem. Source: ESA WorldCover 10m.](lc_mkoani.svg){#fig-mkoani-map}\n\n```{r}\n#| label: fig-mkoani-composition\n#| fig-cap: \"Land Cover Composition of Mkoani District\"\n\npemba_lulc |> \n    terra::freq() |> \n    as.data.frame() |> \n    rename(label = value) |> \n    left_join(worldcover_df, by = c(\"label\")) |>\n    filter(!label == 'Permanent water bodies') |>\n    webr::PieDonut(aes(label, count = count, fill = color), labelposition = 1, r0 = .7, r1 = 1,start=3*pi/8) \n```\n\nThe composition analysis quantifies these visual observations, showing the relative proportions of each land cover type (@fig-mkoani-composition). Forest dominates, but the presence of significant grassland and cropland areas indicates active land use management and potential agricultural expansion in recent years.\n\n![Land Cover Composition of Mkoani District. The donut chart quantifies the areal proportion of each land cover category (excluding water bodies). Forest dominates at approximately 60-70% of terrestrial area, with significant proportions of cropland and grassland indicating active agricultural land use. The inner ring shows the absolute pixel counts while the outer ring displays proportions, revealing both the extent and relative importance of each category for landscape management planning.](lc_mkoani_compostion.svg){#fig-mkoani-composition}\n\n### Mkuranga District\n\nMkuranga district, located on mainland Tanzania, exhibits land cover patterns shaped by different historical and socioeconomic drivers than Mkoani. @fig-mkuranga-map substantial forest coverage with more fragmented patterns of agriculture and grasslands scattered throughout. The landscape mosaic suggests a history of selective land clearing and agricultural development within forested terrain.\n\n```{r}\n#| label: fig-mkuranga-map\n#| fig-cap: \"Land Cover Map of Mkuranga District (2021). Source: ESA WorldCover 10m\"\n#| \nggplot() +\n  geom_spatraster(data = mkuranga_lulc) +\n  scale_x_continuous(breaks = scales::pretty_breaks(n = 4)) +\n  theme_minimal(base_size = 12)\n```\n\n\n![Land Cover Map of Mkuranga District (2021). This map shows the mainland Pwani region's land cover at 10m resolution, revealing a complex mosaic of forest (dark green), grasslands (yellow), and agricultural areas (magenta) typical of coastal Tanzania. The fragmented pattern of land cover suggests a history of selective clearing within forested terrain, with agriculture and settlement distributed throughout rather than consolidated into larger blocks. Source: ESA WorldCover 10m.](lc_mkuranga.svg){#fig-mkuranga-map}\n\nComparing the composition pie charts between Mkoani and Mkuranga reveals that while both regions are forest-dominated, the proportion of agricultural land differs, with Mkuranga (@fig-mkuranga-composition) showing a somewhat higher proportion of grassland. These subtle differences in composition may reflect different population densities, market access, and management priorities across the two regions.\n\n```{r}\n#| label: fig-mkuranga-composition\n#| fig-cap: \"Land Cover Composition of Mkuranga District\"\n\nmkuranga_lulc |> \n    terra::freq() |> \n    as.data.frame() |> \n    rename(label = value) |>\n    left_join(worldcover_df, by = c(\"label\")) |>\n    filter(!label == 'Permanent water bodies') |>\n    webr::PieDonut(aes(label, count = count, fill = color), labelposition = 1, r0 = .6, r1 = 1, ,start=3*pi/8) \n```\n\n![Land Cover Composition of Mkuranga District. Compared to Mkoani, Mkuranga shows higher proportions of grassland and a slightly lower forest percentage, suggesting different land use pressures or natural vegetation patterns on the mainland. The composition analysis demonstrates that while forest remains the dominant land cover in both districts, the relative proportions of agricultural and grassland areas differ‚Äîinformation crucial for tailoring district-specific conservation and livelihood strategies within the marine spatial planning framework.](lc_mkuranga_compostion.svg){#fig-mkuranga-composition}\n\n## Key Observations\n\nThe land cover analysis reveals that both Mkoani and Mkuranga districts maintain forest as their dominant ecosystem type, providing critical ecosystem services including carbon sequestration, watershed protection, and biodiversity habitat. However, the spatial arrangement and composition of other land cover types differ between regions, reflecting distinct management histories and development trajectories. The presence of significant agricultural lands alongside forests suggests these areas support mixed subsistence and commercial activities.\n\nThese foundational observations establish the baseline for deeper spatial pattern analysis. Understanding composition alone is insufficient‚Äîthe *configuration* of these land covers (their fragmentation, connectivity, and spatial arrangement) determines ecosystem resilience and management effectiveness. The next phase of analysis will quantify these spatial patterns using advanced techniques to identify areas of unique land cover organization.\n\n## Next Steps\n\nWith these baseline land cover maps and compositions established, we are now positioned to explore more sophisticated spatial analysis techniques. The motif R package provides powerful methods to calculate spatial signatures‚Äîquantitative summaries of the local spatial arrangement of land covers. These signatures enable us to compare regions not just by *what* land covers they contain, but by *how* those covers are spatially organized.\n\nFuture analyses will employ spatial signature matching to identify areas with similar land cover patterns, detect changes in spatial organization between time periods, and pinpoint regions with unique or anomalous spatial configurations. These advanced methods reveal landscape-level changes that simple composition analysis cannot capture, enabling more targeted conservation and land management strategies tailored to regional characteristics.\n","srcMarkdownNoYaml":"\n\n## Understanding Spatial Patterns in Land Cover\n\nSpatial patterns in land cover are the local arrangements and configurations of different land use types across a landscape. Rather than simply knowing what proportion of an area is forest or cropland, understanding the *pattern* of these land covers reveals much more about ecosystem function and human land use practices. For example, fragmented forests interspersed with agriculture indicate different management histories and conservation challenges than consolidated forest blocks.\n\nSpatial signatures provide a quantitative framework for capturing these patterns. They encode information about how land cover types are spatially organized‚Äîwhether they form large contiguous patches, are highly fragmented, or follow specific spatial arrangements. In this post, I'll demonstrate how to compare spatial signatures between two coastal Tanzanian districts and use visual analysis to identify their characteristic land cover patterns.\n\n## Loading and Preparing the Data\n\nWorking with spatial raster data requires careful data loading and preprocessing to ensure consistent and accurate analysis. We begin by loading specialized R packages designed for spatial analysis: `terra` for raster operations, `sf` for vector geometries, and `tidyterra` to bridge spatial data with tidyverse workflows. These packages provide efficient tools for reading, manipulating, and visualizing large spatial datasets.\n\nWe source ESA WorldCover 10m resolution land cover data for our study areas. The Mkoani district data covers the Pemba region, while Mkuranga district is defined by a specific geographic extent. Converting these rasters to factors (categorical data) is essential‚Äîit tells R that the numeric values represent discrete land cover categories rather than continuous measurements, which enables proper labeling and visualization.\n\n```{r}\nlibrary(sf)\nlibrary(terra)\nlibrary(tidyterra)\nlibrary(tidyverse)\nlibrary(webr)\n```\n\nWe'll work with ESA WorldCover 10m resolution land cover data for two districts in Tanzania. The data represent land cover types in a part of Tanzania in 2020 at 10 m resolution. We also load the boundaries of protected areas in the region.\n\n\n```{r}\npemba_lulc = terra::rast('../data/mkoani_lulc_2021.tif') |> \n    as.factor()\n\nmkuranga_lulc = terra::rast('../data/mkuranga_lulc_2021.tif') |> \n    terra::crop(terra::ext(39.2, 39.48, -7.55, -7.1), mask = TRUE) |> \n    as.factor()\n```\n\n## Creating a Standardized Color Scheme\n\nConsistent color representation across all visualizations is crucial for effective communication and reproducibility in scientific analyses. We create a reference dataframe (`worldcover_df`) that maps each ESA WorldCover land cover category to a standardized hex color code based on official ESA specifications. This single reference ensures that forest always appears as dark green (#006400), water as blue (#0064c8), and so forth across all figures.\n\n\n```{r}\n# Based on official ESA WorldCover specifications\nworldcover_df = data.frame(\n  value = c(10, 20, 30, 40, 50, 60, 70, 80, 90, 95, 100),\n  label = c(\"Tree cover\", \"Shrubland\", \"Grassland\", \"Cropland\", \n            \"Built-up\", \"Bare/sparse vegetation\", \"Snow and ice\",\n            \"Water bodies\", \"Herbaceous wetland\", \n            \"Mangroves\", \"Moss and lichen\"),\n  color = c(\"#006400\", \"#ffbb22\", \"#ffff4c\", \"#f096ff\", \"#fa0000\", \n            \"#b4b4b4\", \"#f0f0f0\", \"#0064c8\", \"#0096a0\", \"#00cf75\", \"#fae6a0\")\n)\n\n\n```\n\nBeyond colors, we embed this metadata directly into our raster objects using the `levels()` and `coltab()` functions. This embeds both the categorical labels and color palette into the raster structure itself, making the visualizations self-contained and reproducible. Any downstream analysis or visualization automatically uses these definitions, eliminating inconsistencies and the need to repeatedly specify colors and labels.\n\n```{r}\n# Set levels with labels\nlevels(pemba_lulc) = worldcover_df |> select(value, label)\nlevels(mkuranga_lulc) = worldcover_df |> select(value, label)\n\n# Embed color palette into rasters\ncoltab(pemba_lulc) = worldcover_df |> select(value, color)\ncoltab(mkuranga_lulc) = worldcover_df |> select(value, color)\n```\n\n## Visualizing Land Cover Maps\n\nRaster maps provide an intuitive visual representation of land cover distribution across space. By mapping pixel values to colors using our standardized scheme, we can immediately identify dominant land cover types and their spatial arrangement. The maps below use a minimal theme with subtle axes to keep focus on the spatial patterns themselves rather than chart elements.\n\nThe composition pie charts complement the maps by quantifying the areal proportion of each land cover type. Rather than showing all categories, we exclude water bodies (which often dominate coastal areas due to ocean coverage) to better visualize terrestrial land cover proportions. The start angle adjustment ensures labels are positioned for readability.\n\n### Mkoani District\n\nThe Mkoani district, located on Pemba Island, displays a landscape heavily influenced by its island geography and historical land use patterns. @fig-mkoani-map reveals extensive forest cover interspersed with agricultural areas and coastal features, reflecting a balance between conservation and subsistence livelihoods common in coastal communities.\n\n```{r}\n#| label: fig-mkoani-map\n#| fig-cap: \"Land Cover Map of Mkoani District (2021). Source: ESA WorldCover 10m\"\n#| \nggplot() +\n  geom_spatraster(data = pemba_lulc) +\n  scale_x_continuous(breaks = scales::pretty_breaks(n = 4)) +\n  theme_minimal(base_size = 12)\n```\n\n\n![Land Cover Map of Mkoani District (2021). The map displays ESA WorldCover 10m resolution classification showing the distribution of forest (dark green), agricultural areas (magenta), grasslands (yellow), and other land cover types across Pemba Island. Forest patches interspersed with agricultural clearing and coastal development characterize this island ecosystem. Source: ESA WorldCover 10m.](lc_mkoani.svg){#fig-mkoani-map}\n\n```{r}\n#| label: fig-mkoani-composition\n#| fig-cap: \"Land Cover Composition of Mkoani District\"\n\npemba_lulc |> \n    terra::freq() |> \n    as.data.frame() |> \n    rename(label = value) |> \n    left_join(worldcover_df, by = c(\"label\")) |>\n    filter(!label == 'Permanent water bodies') |>\n    webr::PieDonut(aes(label, count = count, fill = color), labelposition = 1, r0 = .7, r1 = 1,start=3*pi/8) \n```\n\nThe composition analysis quantifies these visual observations, showing the relative proportions of each land cover type (@fig-mkoani-composition). Forest dominates, but the presence of significant grassland and cropland areas indicates active land use management and potential agricultural expansion in recent years.\n\n![Land Cover Composition of Mkoani District. The donut chart quantifies the areal proportion of each land cover category (excluding water bodies). Forest dominates at approximately 60-70% of terrestrial area, with significant proportions of cropland and grassland indicating active agricultural land use. The inner ring shows the absolute pixel counts while the outer ring displays proportions, revealing both the extent and relative importance of each category for landscape management planning.](lc_mkoani_compostion.svg){#fig-mkoani-composition}\n\n### Mkuranga District\n\nMkuranga district, located on mainland Tanzania, exhibits land cover patterns shaped by different historical and socioeconomic drivers than Mkoani. @fig-mkuranga-map substantial forest coverage with more fragmented patterns of agriculture and grasslands scattered throughout. The landscape mosaic suggests a history of selective land clearing and agricultural development within forested terrain.\n\n```{r}\n#| label: fig-mkuranga-map\n#| fig-cap: \"Land Cover Map of Mkuranga District (2021). Source: ESA WorldCover 10m\"\n#| \nggplot() +\n  geom_spatraster(data = mkuranga_lulc) +\n  scale_x_continuous(breaks = scales::pretty_breaks(n = 4)) +\n  theme_minimal(base_size = 12)\n```\n\n\n![Land Cover Map of Mkuranga District (2021). This map shows the mainland Pwani region's land cover at 10m resolution, revealing a complex mosaic of forest (dark green), grasslands (yellow), and agricultural areas (magenta) typical of coastal Tanzania. The fragmented pattern of land cover suggests a history of selective clearing within forested terrain, with agriculture and settlement distributed throughout rather than consolidated into larger blocks. Source: ESA WorldCover 10m.](lc_mkuranga.svg){#fig-mkuranga-map}\n\nComparing the composition pie charts between Mkoani and Mkuranga reveals that while both regions are forest-dominated, the proportion of agricultural land differs, with Mkuranga (@fig-mkuranga-composition) showing a somewhat higher proportion of grassland. These subtle differences in composition may reflect different population densities, market access, and management priorities across the two regions.\n\n```{r}\n#| label: fig-mkuranga-composition\n#| fig-cap: \"Land Cover Composition of Mkuranga District\"\n\nmkuranga_lulc |> \n    terra::freq() |> \n    as.data.frame() |> \n    rename(label = value) |>\n    left_join(worldcover_df, by = c(\"label\")) |>\n    filter(!label == 'Permanent water bodies') |>\n    webr::PieDonut(aes(label, count = count, fill = color), labelposition = 1, r0 = .6, r1 = 1, ,start=3*pi/8) \n```\n\n![Land Cover Composition of Mkuranga District. Compared to Mkoani, Mkuranga shows higher proportions of grassland and a slightly lower forest percentage, suggesting different land use pressures or natural vegetation patterns on the mainland. The composition analysis demonstrates that while forest remains the dominant land cover in both districts, the relative proportions of agricultural and grassland areas differ‚Äîinformation crucial for tailoring district-specific conservation and livelihood strategies within the marine spatial planning framework.](lc_mkuranga_compostion.svg){#fig-mkuranga-composition}\n\n## Key Observations\n\nThe land cover analysis reveals that both Mkoani and Mkuranga districts maintain forest as their dominant ecosystem type, providing critical ecosystem services including carbon sequestration, watershed protection, and biodiversity habitat. However, the spatial arrangement and composition of other land cover types differ between regions, reflecting distinct management histories and development trajectories. The presence of significant agricultural lands alongside forests suggests these areas support mixed subsistence and commercial activities.\n\nThese foundational observations establish the baseline for deeper spatial pattern analysis. Understanding composition alone is insufficient‚Äîthe *configuration* of these land covers (their fragmentation, connectivity, and spatial arrangement) determines ecosystem resilience and management effectiveness. The next phase of analysis will quantify these spatial patterns using advanced techniques to identify areas of unique land cover organization.\n\n## Next Steps\n\nWith these baseline land cover maps and compositions established, we are now positioned to explore more sophisticated spatial analysis techniques. The motif R package provides powerful methods to calculate spatial signatures‚Äîquantitative summaries of the local spatial arrangement of land covers. These signatures enable us to compare regions not just by *what* land covers they contain, but by *how* those covers are spatially organized.\n\nFuture analyses will employ spatial signature matching to identify areas with similar land cover patterns, detect changes in spatial organization between time periods, and pinpoint regions with unique or anomalous spatial configurations. These advanced methods reveal landscape-level changes that simple composition analysis cannot capture, enabling more targeted conservation and land management strategies tailored to regional characteristics.\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":false,"cache":null,"freeze":"auto","echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":true,"link-external-newwindow":true,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"toc":true,"toc-depth":2,"highlight-style":"atom-one","include-after-body":{"text":"<button class=\"scroll-to-top\" id=\"scrollToTopBtn\" onclick=\"scrollToTop()\">‚Üë</button>\n<script>\n  const scrollBtn = document.getElementById('scrollToTopBtn');\n  \n  // Translation dictionary\n  const translations = {\n    en: {\n      'nav.home': 'Home',\n      'nav.about': 'About',\n      'nav.why_lmsp': 'Why LMSP',\n      'nav.initiatives': 'LMSP Initiatives',\n      'nav.ongoing': 'Ongoing',\n      'nav.planned': 'Planned',\n      'nav.completed': 'Completed',\n      'nav.blog': 'Blog',\n      'nav.resources': 'Resource',\n      'nav.implementation_guide': 'Implementation Guide',\n      'nav.books_articles': 'Book and Articles',\n      'nav.case_studies': 'Case Studies',\n      'nav.team': 'Team',\n      'nav.contacts': 'Contacts',\n      'nav.admin': 'Admin',\n      'nav.archive': 'Archive',\n      'ui.comments_title': 'Comments & Discussion',\n      'ui.comments_info': 'Join the conversation! Share your thoughts and feedback below.',\n      'ui.name': 'Name',\n      'ui.email': 'Email',\n      'ui.comment': 'Comment',\n      'ui.post_comment': 'Post Comment',\n      'ui.no_comments': 'No comments yet. Be the first to share your thoughts!',\n      'footer.quick_links': 'QUICK LINKS',\n      'footer.contact_us': 'Contact Us',\n      'footer.tools': 'Tools',\n      'lang.name': 'English'\n    },\n    sw: {\n      'nav.home': 'Nyumbani',\n      'nav.about': 'Kuhusu',\n      'nav.why_lmsp': 'Kwa Nini LMSP',\n      'nav.initiatives': 'Mpango wa LMSP',\n      'nav.ongoing': 'Inaendelea',\n      'nav.planned': 'Iliyopangwa',\n      'nav.completed': 'Imekamilika',\n      'nav.blog': 'Blogi',\n      'nav.resources': 'Rasilimali',\n      'nav.implementation_guide': 'Mwongozo wa Utekelezaji',\n      'nav.books_articles': 'Vitabu na Makala',\n      'nav.case_studies': 'Masomo ya Kesi',\n      'nav.team': 'Timu',\n      'nav.contacts': 'Wasiliani',\n      'nav.admin': 'Msimamizi',\n      'nav.archive': 'Hifadhi',\n      'ui.comments_title': 'Maoni & Mijadala',\n      'ui.comments_info': 'Jiunge na mazungumzo! Shiriki mawazo yako na maoni hapa chini.',\n      'ui.name': 'Jina',\n      'ui.email': 'Barua pepe',\n      'ui.comment': 'Maoni',\n      'ui.post_comment': 'Chapisha Maoni',\n      'ui.no_comments': 'Hakuna maoni bado. Kuwa wa kwanza kugawana mawazo yako!',\n      'footer.quick_links': 'VIUNGO VYA HARAKA',\n      'footer.contact_us': 'Wasiliana Nasi',\n      'footer.tools': 'Zana',\n      'lang.name': 'Kiswahili'\n    }\n  };\n  \n  // Simple language switcher\n  function initLanguageSwitcher() {\n    const currentLang = localStorage.getItem('lmsp_language') || 'en';\n    \n    // Create switcher HTML\n    const switcherHTML = `\n      <div id=\"lang-switcher\" style=\"display: inline-block; margin-left: 10px;\">\n        <button id=\"lang-btn\" style=\"background: none; border: none; color: white; cursor: pointer; font-size: 16px; padding: 5px 10px;\">\n          üåê <span id=\"lang-text\">${translations[currentLang]['lang.name']}</span>\n        </button>\n        <div id=\"lang-menu\" style=\"position: absolute; top: 100%; right: 0; background: white; border: 1px solid #ddd; border-radius: 4px; min-width: 150px; display: none; z-index: 1000; box-shadow: 0 2px 8px rgba(0,0,0,0.1);\">\n          <button class=\"lang-opt\" data-lang=\"en\" style=\"width: 100%; padding: 10px; border: none; background: none; text-align: left; cursor: pointer; font-size: 14px;\">üá¨üáß English</button>\n          <button class=\"lang-opt\" data-lang=\"sw\" style=\"width: 100%; padding: 10px; border: none; background: none; text-align: left; cursor: pointer; font-size: 14px;\">üáπüáø Kiswahili</button>\n        </div>\n      </div>\n    `;\n    \n    // Find navbar and insert switcher\n    setTimeout(() => {\n      const navbar = document.querySelector('.navbar') || document.querySelector('nav');\n      if (navbar) {\n        const navRight = navbar.querySelector('.navbar-nav') || navbar;\n        if (navRight) {\n          navRight.insertAdjacentHTML('beforeend', switcherHTML);\n          setupLanguageSwitcherEvents();\n        }\n      }\n    }, 500);\n  }\n  \n  function setupLanguageSwitcherEvents() {\n    const btn = document.getElementById('lang-btn');\n    const menu = document.getElementById('lang-menu');\n    const options = document.querySelectorAll('.lang-opt');\n    \n    if (!btn || !menu) return;\n    \n    btn.addEventListener('click', (e) => {\n      e.stopPropagation();\n      menu.style.display = menu.style.display === 'none' ? 'block' : 'none';\n    });\n    \n    options.forEach(opt => {\n      opt.addEventListener('click', (e) => {\n        e.stopPropagation();\n        const lang = opt.getAttribute('data-lang');\n        changeLanguage(lang);\n        menu.style.display = 'none';\n      });\n    });\n    \n    document.addEventListener('click', () => {\n      menu.style.display = 'none';\n    });\n  }\n  \n  function changeLanguage(lang) {\n    localStorage.setItem('lmsp_language', lang);\n    document.documentElement.lang = lang;\n    \n    // Update all elements with data-i18n\n    document.querySelectorAll('[data-i18n]').forEach(el => {\n      const key = el.getAttribute('data-i18n');\n      if (translations[lang] && translations[lang][key]) {\n        el.textContent = translations[lang][key];\n      }\n    });\n    \n    // Update language indicator\n    const langText = document.getElementById('lang-text');\n    if (langText) {\n      langText.textContent = translations[lang]['lang.name'];\n    }\n  }\n  \n  // Show/hide scroll button based on scroll position\n  window.addEventListener('scroll', () => {\n    if (window.scrollY > 300) {\n      scrollBtn.classList.add('show');\n    } else {\n      scrollBtn.classList.remove('show');\n    }\n  });\n  \n  // Scroll to top smoothly\n  function scrollToTop() {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }\n  \n  // Alternative: keyboard shortcut (Press Home key to go to top)\n  document.addEventListener('keydown', (e) => {\n    if (e.key === 'Home') {\n      e.preventDefault();\n      scrollToTop();\n    }\n  });\n  \n  // TOC Collapse Feature\n  document.addEventListener('DOMContentLoaded', function() {\n    const tocTitle = document.getElementById('toc-title');\n    const tocContainer = document.querySelector('nav#TOC');\n    const tocList = document.querySelector('nav#TOC > ul');\n    \n    if (tocTitle && tocList && tocContainer) {\n      // Create toggle button\n      const toggleBtn = document.createElement('button');\n      toggleBtn.className = 'toc-toggle-btn';\n      toggleBtn.innerHTML = 'üìñ';\n      toggleBtn.setAttribute('aria-label', 'Toggle table of contents');\n      toggleBtn.setAttribute('title', 'Collapse table of contents');\n      \n      // Insert button next to title\n      tocTitle.parentNode.insertBefore(toggleBtn, tocTitle.nextSibling);\n      \n      // Load saved state from localStorage\n      const savedState = localStorage.getItem('toc-collapsed');\n      if (savedState === 'true') {\n        tocList.classList.add('toc-collapsed');\n        toggleBtn.innerHTML = 'üìï';\n        toggleBtn.setAttribute('title', 'Expand table of contents');\n      }\n      \n      // Toggle functionality\n      toggleBtn.addEventListener('click', function(e) {\n        e.preventDefault();\n        tocList.classList.toggle('toc-collapsed');\n        const isCollapsed = tocList.classList.contains('toc-collapsed');\n        toggleBtn.innerHTML = isCollapsed ? 'üìï' : 'üìñ';\n        toggleBtn.setAttribute('title', isCollapsed ? 'Expand table of contents' : 'Collapse table of contents');\n        localStorage.setItem('toc-collapsed', isCollapsed);\n      });\n    }\n  });\n  \n  // Blog Category Filter\n  document.addEventListener('DOMContentLoaded', function() {\n    const categoryContainer = document.getElementById('categoryTags');\n    if (!categoryContainer) return;\n    \n    // Collect all categories from post metadata\n    const categories = new Set();\n    const postItems = document.querySelectorAll('.quarto-grid-item');\n    \n    postItems.forEach(item => {\n      const categoryElements = item.querySelectorAll('.listing-category');\n      categoryElements.forEach(cat => {\n        if (cat.textContent.trim()) {\n          categories.add(cat.textContent.trim());\n        }\n      });\n    });\n    \n    // Create filter tags\n    const categoriesArray = Array.from(categories).sort();\n    \n    // Add \"All\" button\n    const allTag = document.createElement('button');\n    allTag.className = 'category-tag active';\n    allTag.textContent = 'All Posts';\n    allTag.setAttribute('data-category', 'all');\n    categoryContainer.appendChild(allTag);\n    \n    // Add category tags\n    categoriesArray.forEach(cat => {\n      const tag = document.createElement('button');\n      tag.className = 'category-tag';\n      tag.textContent = cat;\n      tag.setAttribute('data-category', cat);\n      categoryContainer.appendChild(tag);\n    });\n    \n    // Filter functionality\n    categoryContainer.addEventListener('click', function(e) {\n      if (!e.target.classList.contains('category-tag')) return;\n      \n      const selectedCategory = e.target.getAttribute('data-category');\n      \n      // Update active state\n      document.querySelectorAll('.category-tag').forEach(tag => {\n        tag.classList.remove('active');\n      });\n      e.target.classList.add('active');\n      \n      // Filter posts\n      postItems.forEach(item => {\n        if (selectedCategory === 'all') {\n          item.style.display = '';\n        } else {\n          const itemCategories = Array.from(item.querySelectorAll('.listing-category'))\n            .map(cat => cat.textContent.trim());\n          \n          if (itemCategories.includes(selectedCategory)) {\n            item.style.display = '';\n          } else {\n            item.style.display = 'none';\n          }\n        }\n      });\n    });\n  });\n  \n  // Comments Section - Custom Form\n  document.addEventListener('DOMContentLoaded', function() {\n    // Check if comments are disabled on this page\n    const isCommentsDisabled = document.querySelector('meta[name=\"comments\"]')?.getAttribute('content') === 'false' ||\n                               document.body.classList.contains('no-comments');\n    \n    if (isCommentsDisabled) return; // Skip adding comments if disabled\n    \n    const mainContent = document.querySelector('main') || document.querySelector('.quarto-page-body');\n    \n    if (mainContent) {\n      // Create comments container\n      const commentsSection = document.createElement('section');\n      commentsSection.className = 'comments-section';\n      commentsSection.innerHTML = `\n        <div class=\"comments-wrapper\">\n          <h2>Comments & Discussion</h2>\n          <p class=\"comments-info\">Join the conversation! Share your thoughts and feedback below.</p>\n          \n          <div class=\"comment-form\">\n            <form id=\"commentForm\">\n              <div class=\"form-group\">\n                <label for=\"commentName\">Name *</label>\n                <input type=\"text\" id=\"commentName\" name=\"name\" required>\n              </div>\n              \n              <div class=\"form-group\">\n                <label for=\"commentEmail\">Email *</label>\n                <input type=\"email\" id=\"commentEmail\" name=\"email\" required>\n              </div>\n              \n              <div class=\"form-group\">\n                <label for=\"commentText\">Comment *</label>\n                <textarea id=\"commentText\" name=\"comment\" rows=\"5\" required></textarea>\n              </div>\n              \n              <button type=\"submit\" class=\"btn btn-primary\">Post Comment</button>\n            </form>\n          </div>\n          \n          <div id=\"commentsDisplay\" class=\"comments-display\">\n            <p class=\"no-comments\">No comments yet. Be the first to share your thoughts!</p>\n          </div>\n        </div>\n      `;\n      \n      // Append to end of main content\n      mainContent.appendChild(commentsSection);\n      \n      // Load comments from localStorage\n      loadComments();\n      \n      // Handle form submission\n      document.getElementById('commentForm').addEventListener('submit', function(e) {\n        e.preventDefault();\n        \n        const name = document.getElementById('commentName').value;\n        const email = document.getElementById('commentEmail').value;\n        const text = document.getElementById('commentText').value;\n        \n        if (name && email && text) {\n          const comment = {\n            name: name,\n            email: email,\n            text: text,\n            date: new Date().toLocaleString(),\n            id: Date.now()\n          };\n          \n          // Save comment to localStorage\n          let comments = JSON.parse(localStorage.getItem('pageComments') || '[]');\n          comments.push(comment);\n          localStorage.setItem('pageComments', JSON.stringify(comments));\n          \n          // Clear form\n          this.reset();\n          \n          // Reload comments display\n          loadComments();\n        }\n      });\n      \n      function loadComments() {\n        const comments = JSON.parse(localStorage.getItem('pageComments') || '[]');\n        const display = document.getElementById('commentsDisplay');\n        \n        if (comments.length === 0) {\n          display.innerHTML = '<p class=\"no-comments\">No comments yet. Be the first to share your thoughts!</p>';\n        } else {\n          display.innerHTML = comments.map(c => `\n            <div class=\"comment-item\">\n              <div class=\"comment-header\">\n                <strong>${escapeHtml(c.name)}</strong>\n                <span class=\"comment-date\">${c.date}</span>\n              </div>\n              <p class=\"comment-text\">${escapeHtml(c.text).replace(/\\n/g, '<br>')}</p>\n            </div>\n          `).join('');\n        }\n      }\n      \n      function escapeHtml(text) {\n        const div = document.createElement('div');\n        div.textContent = text;\n        return div.innerHTML;\n      }\n    }\n  });\n  \n  // Statistics Cards - Count Up Animation\n  document.addEventListener('DOMContentLoaded', function() {\n    const statCards = document.querySelectorAll('.stats-card h3');\n    const animationDuration = 10000; // 10 seconds in milliseconds\n    const updateInterval = 33; // Update every 33ms for smooth animation\n    const totalFrames = Math.floor(animationDuration / updateInterval);\n    \n    statCards.forEach(card => {\n      const finalValue = parseInt(card.textContent);\n      if (!isNaN(finalValue)) {\n        let currentFrame = 0;\n        \n        const counter = setInterval(() => {\n          currentFrame++;\n          // Easing: linear progress from 0 to finalValue over 10 seconds\n          const currentValue = Math.floor((currentFrame / totalFrames) * finalValue);\n          \n          if (currentFrame >= totalFrames) {\n            card.textContent = finalValue + '+';\n            clearInterval(counter);\n          } else {\n            card.textContent = currentValue + '+';\n          }\n        }, updateInterval);\n      }\n    });\n  });\n  \n  // Reading Time Estimate\n  document.addEventListener('DOMContentLoaded', function() {\n    const article = document.querySelector('main') || document.querySelector('.quarto-page-body');\n    \n    if (article) {\n      // Get text content from article\n      const text = article.innerText;\n      \n      // Calculate word count\n      const wordCount = text.trim().split(/\\s+/).length;\n      \n      // Average reading speed: 200 words per minute\n      const readingSpeed = 200;\n      const readingTime = Math.ceil(wordCount / readingSpeed);\n      \n      // Only show if there's substantial content (>100 words)\n      if (wordCount > 100) {\n        // Create reading time badge\n        const readingTimeBadge = document.createElement('div');\n        readingTimeBadge.className = 'reading-time-badge';\n        readingTimeBadge.innerHTML = `\n          <span class=\"reading-time-icon\">‚è±Ô∏è</span>\n          <span class=\"reading-time-text\">${readingTime} min read</span>\n        `;\n        \n        // Insert after page title\n        const pageTitle = document.querySelector('h1');\n        if (pageTitle && pageTitle.parentNode) {\n          pageTitle.parentNode.insertBefore(readingTimeBadge, pageTitle.nextSibling);\n        }\n      }\n      \n      // Create share buttons\n      const pageTitle = document.querySelector('h1');\n      const pageUrl = window.location.href;\n      const pageText = pageTitle ? pageTitle.textContent : document.title;\n      \n      const shareButtons = document.createElement('div');\n      shareButtons.className = 'share-buttons';\n      shareButtons.innerHTML = `\n        <span class=\"share-label\">Share:</span>\n        <a href=\"https://twitter.com/intent/tweet?url=${encodeURIComponent(pageUrl)}&text=${encodeURIComponent(pageText)}\" \n           class=\"share-btn share-twitter\" \n           target=\"_blank\" \n           rel=\"noopener noreferrer\"\n           title=\"Share on Twitter\">\n          ùïè\n        </a>\n        <a href=\"https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(pageUrl)}\" \n           class=\"share-btn share-linkedin\" \n           target=\"_blank\" \n           rel=\"noopener noreferrer\"\n           title=\"Share on LinkedIn\">\n          in\n        </a>\n        <a href=\"mailto:?subject=${encodeURIComponent(pageText)}&body=${encodeURIComponent(pageUrl)}\" \n           class=\"share-btn share-email\" \n           title=\"Share via Email\">\n          ‚úâÔ∏è\n        </a>\n      `;\n      \n      if (pageTitle && pageTitle.parentNode) {\n        pageTitle.parentNode.insertBefore(shareButtons, pageTitle.nextSibling.nextSibling);\n      }\n    }\n  });\n</script>\n"},"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.6.39","theme":"cosmo","toc-location":"right","page-layout":"full","title":"Land Cover Patterns in Mkoani and Mkuranga Districts","description":"Analyzing and comparing spatial patterns of land cover in Mkoani and Mkuranga Districts","author":"Masumbuko Semba","date":"2025-12-28","categories":["Fact sheet"],"keywords":["Mkoani","Mkuranga","land cover comparison","spatial patterns","coastal Tanzania","ecosystem"],"image":"lc_mkuranga.png","reading-time":true},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}