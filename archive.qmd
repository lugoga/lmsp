---
title: "Blog Archive"
description: "Browse all blog posts organized by date"
page-layout: full
---

```{=html}
<div class="archive-container">
  <div class="archive-header">
    <h2>Blog Archive</h2>
    <p>Browse all posts organized by month and year</p>
  </div>
  
  <div id="archiveContent" class="archive-content">
    <!-- Archive content will be generated by JavaScript -->
    <p style="text-align: center; color: #999;">Loading archive...</p>
  </div>
</div>

<style>
.archive-container {
  max-width: 900px;
  margin: 0 auto;
}

.archive-header {
  text-align: center;
  margin-bottom: 3em;
  padding-bottom: 2em;
  border-bottom: 2px solid var(--border-color);
}

.archive-header h2 {
  color: var(--primary-blue);
  margin-bottom: 0.5em;
}

.archive-header p {
  color: #666;
  font-size: 1.05em;
}

.archive-content {
  display: grid;
  gap: 2em;
}

.archive-year {
  background: #f8f9fa;
  border-radius: 8px;
  padding: 2em;
  border-left: 4px solid var(--accent-blue);
}

.archive-year-title {
  font-size: 1.5em;
  font-weight: 700;
  color: var(--primary-blue);
  margin-bottom: 1.5em;
  display: flex;
  align-items: center;
  gap: 0.5em;
}

.archive-year-title::before {
  content: "ðŸ“…";
  font-size: 1.2em;
}

.archive-month {
  margin-bottom: 2em;
}

.archive-month-title {
  font-size: 1.1em;
  font-weight: 600;
  color: var(--secondary-blue);
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  border-bottom: 1px solid rgba(63, 169, 201, 0.2);
}

.archive-posts {
  list-style: none;
  padding: 0;
  margin: 0;
}

.archive-post-item {
  padding: 0.8em 0;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
  transition: all 0.3s ease;
}

.archive-post-item:last-child {
  border-bottom: none;
}

.archive-post-item:hover {
  padding-left: 0.5em;
  background: rgba(63, 169, 201, 0.05);
}

.archive-post-link {
  color: var(--secondary-blue);
  text-decoration: none;
  font-weight: 500;
  transition: all 0.3s ease;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1em;
}

.archive-post-link:hover {
  color: var(--primary-blue);
}

.archive-post-date {
  color: #999;
  font-size: 0.9em;
  white-space: nowrap;
}

.no-posts {
  text-align: center;
  color: #999;
  padding: 2em;
  font-style: italic;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  generateArchive();
});

function generateArchive() {
  const archiveContent = document.getElementById('archiveContent');
  if (!archiveContent) return;
  
  // Try multiple paths for search.json
  const searchPaths = [
    'search.json',
    '/search.json',
    '../search.json',
    '../../search.json'
  ];
  
  let loaded = false;
  
  function tryLoadSearch(index) {
    if (index >= searchPaths.length) {
      // All paths failed, use fallback
      console.log('search.json not found, using fallback method');
      loadFromPageLinks();
      return;
    }
    
    fetch(searchPaths[index])
      .then(response => {
        if (!response.ok) throw new Error('Not found');
        return response.json();
      })
      .then(data => {
        if (!loaded) {
          loaded = true;
          processSearchData(data, archiveContent);
        }
      })
      .catch(() => tryLoadSearch(index + 1));
  }
  
  tryLoadSearch(0);
  
  function processSearchData(data, archiveContent) {
    const allPosts = [];
    
    if (data.results) {
      data.results.forEach(item => {
        if (item.href && item.href.includes('/posts/')) {
          const date = extractDateFromUrl(item.href) || new Date();
          allPosts.push({
            title: item.title || 'Untitled',
            url: item.href,
            date: date
          });
        }
      });
    }
    
    renderArchive(allPosts, archiveContent);
  }
  
  function loadFromPageLinks() {
    // Fallback: scan all links on the current page for posts
    const allPosts = [];
    const links = document.querySelectorAll('a[href*="/posts/"]');
    const seenUrls = new Set();
    
    links.forEach(link => {
      const href = link.getAttribute('href');
      const text = link.textContent.trim();
      
      if (href && text && !seenUrls.has(href)) {
        seenUrls.add(href);
        const date = extractDateFromUrl(href) || new Date();
        allPosts.push({
          title: text,
          url: href,
          date: date
        });
      }
    });
    
    if (allPosts.length === 0) {
      archiveContent.innerHTML = '<div class="no-posts">No posts found. Make sure your posts are linked in your site navigation.</div>';
    } else {
      renderArchive(allPosts, archiveContent);
    }
  }
}

function renderArchive(allPosts, archiveContent) {
  if (allPosts.length === 0) {
    archiveContent.innerHTML = '<div class="no-posts">No posts found yet. Check back soon!</div>';
    return;
  }
  
  // Sort by date descending
  allPosts.sort((a, b) => new Date(b.date) - new Date(a.date));
  
  // Group by year and month
  const grouped = {};
  allPosts.forEach(post => {
    const date = new Date(post.date);
    const year = date.getFullYear();
    const month = date.toLocaleString('default', { month: 'long' });
    const monthKey = String(date.getMonth() + 1).padStart(2, '0');
    
    if (!grouped[year]) grouped[year] = {};
    const key = `${monthKey}-${month}`;
    if (!grouped[year][key]) grouped[year][key] = [];
    
    grouped[year][key].push(post);
  });
  
  // Generate HTML
  let html = '';
  Object.keys(grouped).sort().reverse().forEach(year => {
    html += `<div class="archive-year">
      <div class="archive-year-title">${year}</div>`;
    
    const months = grouped[year];
    Object.keys(months).sort().reverse().forEach(monthKey => {
      const monthName = monthKey.split('-')[1];
      html += `<div class="archive-month">
        <div class="archive-month-title">${monthName}</div>
        <ul class="archive-posts">`;
      
      months[monthKey].forEach(post => {
        const dateStr = new Date(post.date).toLocaleDateString();
        html += `<li class="archive-post-item">
          <a href="${post.url}" class="archive-post-link">
            <span>${post.title}</span>
            <span class="archive-post-date">${dateStr}</span>
          </a>
        </li>`;
      });
      
      html += `</ul></div>`;
    });
    
    html += `</div>`;
  });
  
  archiveContent.innerHTML = html;
}

function extractDateFromUrl(url) {
  // Try to extract date from URL path like /posts/2025-12-15-title/ or /posts/folder_name/
  const match = url.match(/(\d{4})-(\d{2})-(\d{2})/);
  if (match) {
    return new Date(match[1], parseInt(match[2]) - 1, match[3]);
  }
  return null;
}
</script>
```
